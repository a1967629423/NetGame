window.__require=function t(e,n,o){function c(i,r){if(!n[i]){if(!e[i]){var u=i.split("/");if(u=u[u.length-1],!e[u]){var s="function"==typeof __require&&__require;if(!r&&s)return s(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+i+"'")}}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(t){return c(e[i][1][t]||t)},p,p.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)c(o[i]);return c}({AnimationStateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"8b67c3aYTFKTbwesPVT0i+7","AnimationStateMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./StateMachine/StateMachine"),c=t("./StateMachine/StateDec"),a=cc._decorator,i=a.ccclass,r=(a.property,c.MSMDsc.mStateMachine),u=(c.MSMDsc.mState,o.MSM.StateMachine),s=o.MSM.State,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e=__decorate([r,i,cc._decorator.requireComponent(dragonBones.ArmatureDisplay)],e)}(u);n.default=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(s);n.AnimationState=h,cc._RF.pop()},{"./StateMachine/StateDec":"StateDec","./StateMachine/StateMachine":"StateMachine"}],CameraMoveMachine:[function(t,e,n){"use strict";cc._RF.push(e,"c6528Li7u9MEpZwLbPMYJ1G","CameraMoveMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../frame/StateMachine/StateMachine"),c=t("../../frame/StateMachine/StateDec"),a=t("../../frame/InputManage"),i=c.MSMDsc.mStateMachine,r=c.MSMDsc.mSyncFunc,u=o.MSM.StateMachine,s=o.MSM.State,p=cc._decorator,h=p.ccclass;p.property;(function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e.prototype.start=function(){t.prototype.start.call(this),a.IPSM.InputManage.getInstance().addInput(this)},__decorate([r],e.prototype,"touch",null),__decorate([r],e.prototype,"touchStart",null),__decorate([r],e.prototype,"touchEnd",null),__decorate([r],e.prototype,"touchCancel",null),e=__decorate([i,h],e)}(u);t.CameraMoveMachine=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e}(s);t.CameraMoveState=n})(n.CameraMoveMachine||(n.CameraMoveMachine={})),cc._RF.pop()},{"../../frame/InputManage":"InputManage","../../frame/StateMachine/StateDec":"StateDec","../../frame/StateMachine/StateMachine":"StateMachine"}],CameraMoveStates:[function(t,e,n){"use strict";cc._RF.push(e,"35f91p5F5tDZLox10qS5J1z","CameraMoveStates"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../CameraMoveMachine"),c=t("../../../frame/StateMachine/StateDec");(function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Start=function(){this.context.listen("pause")},e.prototype.touch=function(t){var e=t.getDelta().neg();this.context.node.position=this.context.node.position.add(e)},e.prototype.Quit=function(){this.context.cancelListen("pause")},e=__decorate([c.MSMDsc.mState("Default",o.CameraMoveMachine.CameraMoveMachine),c.MSMDsc.mDefaultState,c.MSMDsc.mLinkTo("Pause","pause")],e)}(o.CameraMoveMachine.CameraMoveState);t.DefaultState=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Start=function(){this.context.listen("resume")},e.prototype.Quit=function(){this.context.cancelListen("resume")},e=__decorate([c.MSMDsc.mState("Pause",o.CameraMoveMachine.CameraMoveMachine),c.MSMDsc.mLinkTo("Default","resume")],e)}(o.CameraMoveMachine.CameraMoveState);t.PauseState=n})(n.CameraMoveStates||(n.CameraMoveStates={})),cc._RF.pop()},{"../../../frame/StateMachine/StateDec":"StateDec","../CameraMoveMachine":"CameraMoveMachine"}],Enums:[function(t,e,n){"use strict";cc._RF.push(e,"605b6d8iK1BCKrp8lQW6cm3","Enums"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.rect=0]="rect",t[t.triangle=1]="triangle",t[t.circle=2]="circle"}(n.SitePeopleType||(n.SitePeopleType={})),cc._RF.pop()},{}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"ff513ZAu/1HNrb/r+TYLT78","EventCenter"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,a=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends(e,t),n=e,Object.defineProperty(e,"Instance",{get:function(){if(!this.Ins){var t=new cc.Node;cc.game.addPersistRootNode(t),this.Ins=t.addComponent(n)}return this.Ins},enumerable:!0,configurable:!0}),e.Ins=null,e=n=__decorate([c],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],InputDefaultState:[function(t,e,n){"use strict";cc._RF.push(e,"486d9GOq29NybIqdMxGmT4n","InputDefaultState"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../StateMachine/StateDec"),c=t("../InputManage"),a=o.MSMDsc.mState,i=o.MSMDsc.mDefaultState,r=c.IPSM.InputState,u=c.IPSM.InputManage,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Start=function(){0},e.prototype.touch=function(t){this.context._tar.forEach(function(e){e.touch(t)})},e.prototype.touchStart=function(t){this.context._tar.forEach(function(e){e.touchStart(t)})},e.prototype.touchCancel=function(t){this.context._tar.forEach(function(e){e.touchCancel(t)})},e.prototype.touchEnd=function(t){this.context._tar.forEach(function(e){e.touchEnd(t)})},e=__decorate([a("default",u),i],e)}(r);n.default=s,cc._RF.pop()},{"../InputManage":"InputManage","../StateMachine/StateDec":"StateDec"}],InputManageTest:[function(t,e,n){"use strict";cc._RF.push(e,"41444zxxqJEoZiq5C64cUsh","InputManageTest"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../InputManage"),c=cc._decorator,a=c.ccclass,i=(c.property,o.IPSM.InputManage,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e.prototype.touch=function(t){console.log(t.getLocation())},e.prototype.start=function(){},e=__decorate([a],e)}(cc.Component));n.default=i,cc._RF.pop()},{"../InputManage":"InputManage"}],InputManage:[function(t,e,n){"use strict";cc._RF.push(e,"8a14az6kD1CKra+jZmCLk8Y","InputManage"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../utility/setToFullScene"),c=t("./StateMachine/StateDec"),a=t("./StateMachine/StateMachine"),i=cc._decorator,r=i.ccclass,u=i.property,s=c.MSMDsc.mStateMachine,p=c.MSMDsc.mSyncFunc,h=a.MSM.StateMachine,l=a.MSM.State;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targets=[],e.exState=0,e._tar=[],e}var n;return __extends(e,t),n=e,e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e.prototype.touch=function(t){},e.prototype.instanceofIInput=function(t){return!!t.touch},e.getInstance=function(t){var e=this,c=null;if(t)(c=t.getComponent(n))||((c=t.addComponent(n)).exState=0);else{var a=this.g_InputManage.find(function(t){return t.Camera==cc.Camera.main});a?c=a.Manage:cc.Camera.cameras.forEach(function(t){var a=new cc.Node("inputManage");c=a.addComponent(n),a.addComponent(o.default),a.setParent(t.node),c.exState=1,e.g_InputManage.push({Camera:t,Manage:c})})}return c},e.prototype.addInput=function(t){this._tar.push(t)},e.prototype.removeInput=function(t){this._tar.splice(this._tar.findIndex(function(e){return e===t}),1)},e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.targets.forEach(function(t){var n=t;e.instanceofIInput(t)?e._tar.push(n):(console.warn("\u5bf9\u8c61\u672a\u5b9e\u73b0\u63a5\u53e3IInput"),console.warn(t))}),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touch,this),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.prototype.onDisable=function(){t.prototype.onDisable.call(this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touch,this),this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},e.g_InputManage=[],__decorate([p],e.prototype,"touchStart",null),__decorate([p],e.prototype,"touchEnd",null),__decorate([p],e.prototype,"touchCancel",null),__decorate([p],e.prototype,"touch",null),__decorate([u([cc.Component])],e.prototype,"targets",void 0),e=n=__decorate([s,r],e)}(h);t.InputManage=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e.prototype.touch=function(t){},Object.defineProperty(e.prototype,"context",{get:function(){return this.ctx},set:function(t){this.ctx=t},enumerable:!0,configurable:!0}),e}(l);t.InputState=n})(n.IPSM||(n.IPSM={})),cc._RF.pop()},{"../utility/setToFullScene":"setToFullScene","./StateMachine/StateDec":"StateDec","./StateMachine/StateMachine":"StateMachine"}],LineType:[function(t,e,n){"use strict";cc._RF.push(e,"a30eeSSumlO9I5PTLDca2M3","LineType"),Object.defineProperty(n,"__esModule",{value:!0});var o,c=cc._decorator,a=c.ccclass,i=c.property;(function(t){t[t.bsc=0]="bsc",t[t.line=1]="line"})(o=n.ELineType||(n.ELineType={}));var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=o.line,e.handles=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.typeSet()},enumerable:!0,configurable:!0}),e.prototype.typeSet=function(){if(this.type===o.bsc&&this.handles){var t=new cc.Node("handleR"),e=new cc.Node("handleL");t.setParent(this.node),e.setParent(this.node),t.position=t.position.sub(cc.v2(10)),e.position=e.position.add(cc.v2(10)),this.handles.push(t,e)}else this.type===o.line&&(this.handles.forEach(function(t){t.destroy()}),this.handles=[])},__decorate([i({type:cc.Enum(o)})],e.prototype,"type",null),__decorate([i([cc.Node])],e.prototype,"handles",void 0),e=__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],MachineCor:[function(t,e,n){"use strict";cc._RF.push(e,"f91b3VnA21KPq/YIjQ781Gv","MachineCor"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../InputManage"),c=t("../StateMachine/StateMachine"),a=cc._decorator,i=a.ccclass,r=(a.property,o.IPSM.InputManage,c.MSM.AwaitNextSecond,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){0},e=__decorate([i],e)}(cc.Component));n.default=r,cc._RF.pop()},{"../InputManage":"InputManage","../StateMachine/StateMachine":"StateMachine"}],ObjectPool:[function(t,e,n){"use strict";cc._RF.push(e,"71a606deZ5JTol07XK/B7xI","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t=!1),this.__pool=[],this.dir=!1,this.dir=t}return t.prototype.push=function(t){t._poolisload?t.unuse&&t.unuse():t._poolisload=!0,t.node?t.node.removeFromParent():t.removeFromParent&&t.removeFromParent(),this.__pool.push(t)},t.prototype.pop=function(){return this.__pool.length?this.dir?this.__pool.pop():this.__pool.shift():null},t.prototype.clear=function(){this.__pool.forEach(function(t){t.destroy&&t.destroy()}),this.__pool=[]},t}();n.default=o,cc._RF.pop()},{}],OperationStateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"1fbd4nBTlZGdZsDhKm3INlh","OperationStateMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./StateMachine/StateDec"),c=t("./StateMachine/StateMachine"),a=cc._decorator,i=a.ccclass,r=(a.property,o.MSMDsc.mStateMachine),u=o.MSMDsc.mSyncAttachFunc,s=o.MSMDsc.mSyncFunc,p=c.MSM.StateMachine,h=c.MSM.State,l=(c.MSM.OperatorStruct,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.health=100,e}return __extends(e,t),e.prototype.hit=function(t,e){},e.prototype.attack=function(t,e){},__decorate([s,u],e.prototype,"hit",null),__decorate([s,u],e.prototype,"attack",null),e=__decorate([r,i],e)}(p));n.default=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.attack=function(t,e){},e.prototype.hit=function(t,e){},e}(h);n.OperationState=f,cc._RF.pop()},{"./StateMachine/StateDec":"StateDec","./StateMachine/StateMachine":"StateMachine"}],PrefabFactory:[function(t,e,n){"use strict";cc._RF.push(e,"90023yDGY1JE4fESIECErAS","PrefabFactory"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../ObjectPool/ObjectPool"),c=cc._decorator,a=c.ccclass,i=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Prefabs=[],e.InitValue=10,e.PrefabPool=[],e}return __extends(e,t),e.NodePush=function(t){var e=t.__factory;e&&e.push(t)},e.prototype.Nodefactory=function(t){var e=cc.instantiate(t);return e.__factoryName=t.name,e.__factory=this,e},e.prototype.start=function(){var t=this;this.PrefabPool.length!=this.Prefabs.length&&this.Prefabs.forEach(function(e){for(var n=new o.default(!0),c=0;c<t.InitValue;c++)n.push(t.Nodefactory(e));t.PrefabPool.push({name:e.name,pool:n,prefab:e})})},e.prototype.pop=function(t){var e=null;if("string"==typeof t?e=this.PrefabPool.find(function(e){return e.name===t}):"number"==typeof t&&(e=this.PrefabPool.length>t?this.PrefabPool[t]:null),e){var n=e.pool.pop();return n||(n=this.Nodefactory(e.prefab),e.pool.push(n)),n}},e.prototype.push=function(t,e){var n=e||t.__factoryName,o=this.PrefabPool.find(function(t){return t.name===n});o&&o.pool.push(t)},__decorate([i([cc.Prefab])],e.prototype,"Prefabs",void 0),__decorate([i],e.prototype,"InitValue",void 0),e=__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"../ObjectPool/ObjectPool":"ObjectPool"}],ScenesDefaultState:[function(t,e,n){"use strict";cc._RF.push(e,"19f40Xx8ktOiovD3bSz2PzM","ScenesDefaultState"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../ScenesManage"),c=t("../StateMachine/StateDec"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.loadScenes=function(t,e,n){cc.director.preloadScene(t),setTimeout(function(){cc.director.loadScene(t,function(){n&&n()})},e)},Object.defineProperty(e.prototype,"context",{get:function(){return this.ctx},set:function(t){this.ctx=t},enumerable:!0,configurable:!0}),e=__decorate([c.MSMDsc.mState("Default",o.default),c.MSMDsc.mDefaultState],e)}(o.ScenesState);n.default=a,cc._RF.pop()},{"../ScenesManage":"ScenesManage","../StateMachine/StateDec":"StateDec"}],ScenesManage:[function(t,e,n){"use strict";cc._RF.push(e,"1e179szjl5A0pscSFZiBxu1","ScenesManage"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./StateMachine/StateMachine"),c=t("./StateMachine/StateDec"),a=cc._decorator,i=a.ccclass,r=(a.property,c.MSMDsc.mStateMachine),u=c.MSMDsc.mSyncFunc,s=o.MSM.StateMachine,p=o.MSM.State,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends(e,t),n=e,e.prototype.loadScenes=function(t,e,n){},Object.defineProperty(e,"Instance",{get:function(){if(!this._instance){var t=new cc.Node("ScenesManange");this._instance=t.addComponent(n),cc.game.addPersistRootNode(t)}return this._instance},enumerable:!0,configurable:!0}),e.prototype.start=function(){t.prototype.start.call(this)},e._instance=null,__decorate([u],e.prototype,"loadScenes",null),e=n=__decorate([r,i],e)}(s);n.default=h;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.loadScenes=function(t,e,n){},Object.defineProperty(e.prototype,"context",{get:function(){return t.prototype.context},set:function(e){t.prototype.context=e},enumerable:!0,configurable:!0}),e}(p);n.ScenesState=l,cc._RF.pop()},{"./StateMachine/StateDec":"StateDec","./StateMachine/StateMachine":"StateMachine"}],SiteMachine:[function(t,e,n){"use strict";cc._RF.push(e,"55ecc8XDcRJz4IUfJwhuNkY","SiteMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../frame/StateMachine/StateMachine"),c=t("../../frame/StateMachine/StateDec"),a=t("./SitePeople"),i=cc._decorator,r=i.ccclass,u=i.property,s=(c.MSMDsc.mSyncAttachFunc,c.MSMDsc.mSyncFunc);(function(t){var e=function(){return function(){this.LastSite=null,this.NextSite=null}}();t.SiteLineMachine=e})(n.SiteLineSM||(n.SiteLineSM={})),function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SitePeople=[],e.SiteLines=[],e.SiteType=0,e}return __extends(e,t),e.prototype.checkType=function(t,e){},e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},__decorate([s],e.prototype,"checkType",null),__decorate([u([a.default])],e.prototype,"SitePeople",void 0),__decorate([u],e.prototype,"SiteType",void 0),__decorate([s],e.prototype,"touch",null),__decorate([s],e.prototype,"touchStart",null),__decorate([s],e.prototype,"touchEnd",null),__decorate([s],e.prototype,"touchCancel",null),e=__decorate([c.MSMDsc.mStateMachine,r],e)}(o.MSM.StateMachine);t.SiteMachine=e;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctx=null,e}return __extends(e,t),e.prototype.checkType=function(t,e){},e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},Object.defineProperty(e.prototype,"context",{get:function(){return this.ctx},set:function(t){this.ctx=t},enumerable:!0,configurable:!0}),e}(o.MSM.State);t.SiteState=n}(n.SiteSM||(n.SiteSM={})),cc._RF.pop()},{"../../frame/StateMachine/StateDec":"StateDec","../../frame/StateMachine/StateMachine":"StateMachine","./SitePeople":"SitePeople"}],SitePeople:[function(t,e,n){"use strict";cc._RF.push(e,"883e2EN+4tN/403/C+p7P1P","SitePeople"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Enums"),c=cc._decorator,a=c.ccclass,i=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.peopleType=o.SitePeopleType.rect,e}return __extends(e,t),e.prototype.start=function(){},__decorate([i({type:cc.Enum(o.SitePeopleType)})],e.prototype,"peopleType",void 0),e=__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"../Enums":"Enums"}],SiteStates:[function(t,e,n){"use strict";cc._RF.push(e,"e016aWZg81B/76qLcmj+Vhr","SiteStates"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../SiteMachine"),c=t("../../../frame/StateMachine/StateDec"),a=c.MSMDsc.mDefaultState,i=(c.MSMDsc.mLinkTo,c.MSMDsc.mState);(function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.checkType=function(t,e){e.operatorValue||this.context.SiteLines.forEach(function(n){n.NextSite.checkType(t,e)})},e=__decorate([i("Default",o.SiteSM.SiteMachine),a],e)}(o.SiteSM.SiteState);t.Default=e})(n.SiteStates||(n.SiteStates={})),cc._RF.pop()},{"../../../frame/StateMachine/StateDec":"StateDec","../SiteMachine":"SiteMachine"}],StateDec:[function(t,e,n){"use strict";cc._RF.push(e,"d55085pPGRG0p/a0/Dz0dGH","StateDec"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./StateMachine");(function(t){var e=[];t.mStateMachine=function(t){if(!e.find(function(e){return e.sm==t})){var n={sm:t,sts:[],stateRelation:[],eventsName:[]};e.push(n),t.prototype.strelation=n.stateRelation,t.prototype.LSMDB=n}},t.mState=function(t,n){return function(o){var c=e.find(function(t){return t.sm==n});if(c)c.sts.push({st:o,name:t});else{var a={sm:n,sts:[{st:o,name:t}],stateRelation:[],eventsName:[]};e.push(a),n.prototype.strelation=a.stateRelation,n.prototype.LSMDB=a}o.prototype.stateName=t,o.prototype._su_=n}},t.mDefaultState=function(t){function e(){var e=t.prototype._su_;if(e){if(e.prototype.strelation.find(function(t){return"start"===t.eventname}))return void console.log("DefaultState only one");e.prototype.strelation.push({eventname:"start",source:null,target:t})}}t.prototype._su_?e():setTimeout(function(){e()})},t.mLinkTo=function(t,n){function o(o){var c,a=o.prototype._su_;if(a){if(c=e.find(function(t){return t.sm==a})){var i=c.sts.find(function(e){return e.name==t});i&&(c.stateRelation.push({source:o,target:i.st,eventname:n}),c.eventsName.find(function(t){return t===n})||c.eventsName.push(n))}}else console.error("su is undefind")}return function(t){t.prototype._su_?o(t):setTimeout(function(){o(t)})}},t.mSyncFunc=function(t,e,n){setTimeout(function(){var n=t[e];t[e]=function(){var t=this.nowState[e];t&&t.apply(this.nowState,arguments),n.apply(this,arguments)}})},t.mSyncAttachFunc=function(t,e,n){setTimeout(function(){var n=t[e];t[e]=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];var a=o.MSM.OperatorStruct.getinstance();this.forEachAttach(e,a,t),n.apply(this,t.push(a))}})}})(n.MSMDsc||(n.MSMDsc={})),cc._RF.pop()},{"./StateMachine":"StateMachine"}],StateMachine:[function(t,e,n){"use strict";cc._RF.push(e,"06423SPV6hKbZE54waimOgJ","StateMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../ObjectPool/ObjectPool");(function(t){var e=function(){function t(t){this.canOperator=!0,this.operatorValue=null,this.operatorInformation=Object.create(null),this.operatorValue=t}return t.prototype.unuse=function(){this.canOperator=!0,this.operatorInformation=Object.create(null)},t.prototype.reuse=function(){},t.getinstance=function(e){var n=this.OP.pop();return n||(n=new t(e),this.OP.push(n)),n},t.prototype.destroy=function(){},t.OP=new o.default(!1),t}();t.OperatorStruct=e;var n=function(){function t(t){this.stateName="",this.quitEvent=null,this.context=null,this._isAttach=!1,this.context=t}return t.prototype.Start=function(){},t.prototype.update=function(t,e){},t.prototype.disable=function(){},t.prototype.Quit=function(){this.quitEvent&&this.quitEvent(this)},t.prototype.done=function(){this._isAttach&&this.context.attachQuit(this),this.context.emit("done")},t}();t.State=n;var c=function(){return function(){this.count=1,this.type=1}}();t.AwaitNext=c;var a=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this)||this;return n.type=1,n.count=e,n}return __extends(e,t),e}(c);t.AwaitNextUpdate=a;var i=function(t){function e(e){var n=t.call(this)||this;return n.type=2,n.time=e,n}return __extends(e,t),e}(c);t.AwaitNextSecond=i;var r=function(){function t(t,e){this.time=0,this.count=0,this.type=0,this.timmer=0,this.countor=0,this.NIter=t,this.setAttr(0),this.callback=e}return t.prototype.setAttr=function(t){var e=this.NIter.next(t);e.done?this.callback&&this.callback(this):this.setValue(e.value?e.value:new a(1))},t.prototype.setValue=function(t){switch(this.type=t.type,this.type){case 1:this.count=t.count;break;case 2:this.time=t.time}},t.prototype.Update=function(t){switch(this.type){case 1:this.countor++,this.countor>=this.count&&(this.countor,this.setAttr(t));break;case 2:this.timmer<this.time?this.timmer+=t:(this.timmer=0,this.setAttr(t))}},t}(),u=cc._decorator,s=u.ccclass,p=(u.property,function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.nowState=null,e.attachment=[],e.sqs=[],e.stateIns=[],e.Coroutines=[],e.listenlist=[],e}return __extends(n,t),n.prototype.changeState=function(t){this.nowState&&this.nowState.Quit(),this.nowState=t,t.Start()},n.prototype.start=function(){var t=this;this.LSMDB.sts.forEach(function(e){var n=new e.st(t);t.stateIns.push({Ins:n,Name:e.name})}),this.emit("start")},n.prototype.startCoroutine=function(t){var e=this;t.callback=function(t){e.Coroutines.splice(e.Coroutines.findIndex(function(e){return e===t}),1)},this.Coroutines.push(t)},n.prototype.startCoroutine_Auto=function(t){this.startCoroutine(new r(t))},n.prototype.update=function(t){if(0!=this.Coroutines.length)for(var n=this.Coroutines.length-1;n>=0;n--)this.Coroutines[n].Update(t);var o=e.getinstance();this.nowState&&this.nowState.update(t,o)},n.prototype.attachState=function(t){var e=t.apply({__proto__:t.prototype},[this]);e.quitEvent=this.attachQuit.bind(this);var n=this.attachment.find(function(e){if(e.construct===t)return!0});return n?n.ch.push(e):this.attachment.push({ch:new Array(e),construct:t}),this.sqs.push(e),e._isAttach=!0,setTimeout(function(){e.Start()}),e},n.prototype.attachQuit=function(t){var e=typeof t,n=0,o=this.attachment.findIndex(function(e){if(e.ch.find(function(e,o){if(e===t)return n=o,!0}))return!0}),c=this.sqs.findIndex(function(e){if(e===t)return!0});this.attachment[o].ch.splice(n,1),this.sqs.splice(c,1),this.attachment[o].ch.length<1&&delete this.attachment[e]},n.prototype.getAttachs=function(t){for(var e in this.attachment)if(this.attachment[e].construct===t)return this.attachment[e].ch;return null},n.prototype.getAttach=function(t){var e=this.getAttachs(t);return e?e[0]:e},n.prototype.forEachAttach=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(this.sqs.length>0)for(var c=this.sqs.length-1;c>=0;c--)n.push(e),this.sqs[c][t].apply(this.sqs[c],n)},n.prototype.changAttachStateOrder=function(t,e){var n=this.sqs.findIndex(function(e){if(e===t)return!0}),o=this.sqs.splice(n,1);o.splice(e,0,this.sqs[n]),this.sqs=o},n.prototype.getStatesLength=function(){return this.sqs.length},n.prototype.emit=function(t){var e=this,n=this.strelation.find(function(n){return e.nowState?n.eventname==t&&n.source==e.nowState.constructor:n.eventname==t});if(n){var o=this.stateIns.find(function(t){return t.Ins.constructor===n.target});o&&this.changeState(o.Ins)}},n.prototype.listenToemit=function(t){this.emit(t)},n.prototype.listen=function(t){if(!this.listenlist.find(function(e){return e.eventName===t})){var e=function(t){var e=this;return function(){e.listenToemit(t)}}(t);this.listenlist.push({eventName:t,callback:e}),this.node.on(t,e,this)}},n.prototype.cancelListen=function(t){var e=this.listenlist.find(function(e){return e.eventName===t});e&&this.node.off(e.eventName,e.callback,this)},n.prototype.onDestroy=function(){t.prototype.onDisable.call(this),this.nowState.Quit(),this.sqs.forEach(function(t){t.Quit()})},n.prototype.onDisable=function(){t.prototype.onDisable.call(this),this.nowState.disable(),this.sqs.forEach(function(t){t.disable()})},n=__decorate([s],n)}(cc.Component));t.StateMachine=p})(n.MSM||(n.MSM={})),cc._RF.pop()},{"../ObjectPool/ObjectPool":"ObjectPool"}],VehicleMachine:[function(t,e,n){"use strict";cc._RF.push(e,"75a57PFd7FHjKwZ/ZZLqkY5","VehicleMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../frame/StateMachine/StateMachine"),c=t("../../frame/StateMachine/StateDec"),a=t("../site/SitePeople"),i=cc._decorator,r=i.ccclass,u=i.property;c.MSMDsc.mSyncAttachFunc,c.MSMDsc.mSyncFunc;(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.peoples=[],e}return __extends(e,t),e.Factory=function(t){},__decorate([u(a.default)],e.prototype,"peoples",void 0),e=__decorate([c.MSMDsc.mStateMachine,r],e)}(o.MSM.StateMachine);t.VehicleMachine=e;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(o.MSM.State);t.VechicleState=n})(n.Vehicle||(n.Vehicle={})),cc._RF.pop()},{"../../frame/StateMachine/StateDec":"StateDec","../../frame/StateMachine/StateMachine":"StateMachine","../site/SitePeople":"SitePeople"}],VehicleStates:[function(t,e,n){"use strict";cc._RF.push(e,"b8079qE9dlFTpnnBRRu76QW","VehicleStates"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../frame/StateMachine/StateMachine"),c=t("../../../frame/StateMachine/StateDec"),a=t("../VehicleMachine"),i=(o.MSM.State,c.MSMDsc.mDefaultState),r=(c.MSMDsc.mLinkTo,c.MSMDsc.mState);(function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([r("Default",a.Vehicle.VehicleMachine),i],e)}(a.Vehicle.VechicleState);t.Default=e})(n.VehicleStates||(n.VehicleStates={})),cc._RF.pop()},{"../../../frame/StateMachine/StateDec":"StateDec","../../../frame/StateMachine/StateMachine":"StateMachine","../VehicleMachine":"VehicleMachine"}],bscManage:[function(t,e,n){"use strict";cc._RF.push(e,"3aa1coGHSxIZ5dBcNg8BFt8","bscManage"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./LineType"),c=cc._decorator,a=c.ccclass,i=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.points=[],e.count=50,e.px=[],e.py=[],e.path=[],e.p=[],e}return __extends(e,t),e.prototype.start=function(){this.print()},e.prototype.print=function(){var t=this;if(this.px=[],this.py=[],this.path=[],this.points.forEach(function(e){e?(t.px.push(e.node.position.x),t.py.push(e.node.position.y)):(t.px.push(0),t.py.push(0))}),this.points.length>0&&this.points[0]){var e=this.getComponent(cc.Graphics);e.clear(),e.strokeColor=cc.Color.RED,e.moveTo(this.points[0].node.x,this.points[0].node.y);for(var n=1;n<this.points.length;n++)if(this.points[n])if(this.points[n].type===o.ELineType.line)this.path.push(new cc.Vec2(this.points[n].node.x,this.points[n].node.y));else for(n=1;n<this.count;n++);this.path.forEach(function(t){e.lineTo(t.x,t.y)}),e.stroke()}},e.prototype.update=function(){if(this.points.length>0)if(this.points.length!=this.px.length)this.print();else for(var t=0;t<this.points.length;t++)this.points[t]&&this.points[t].node.x!=this.px[t]&&this.print()},__decorate([i([o.default])],e.prototype,"points",void 0),__decorate([i],e.prototype,"count",void 0),e=__decorate([a,cc._decorator.executeInEditMode,cc._decorator.requireComponent(cc.Graphics)],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./LineType":"LineType"}],bullet:[function(t,e,n){"use strict";cc._RF.push(e,"3eb3dZ+7/lIIbscojtD59rD","bullet"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,a=o.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=cc.v2(0,1),e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){this.node.position=this.node.position.add(this.dir.mul(1e3*t))},__decorate([a(cc.Vec2)],e.prototype,"dir",void 0),e=__decorate([c],e)}(cc.Component);n.default=i,cc._RF.pop()},{}],playerDefaultState:[function(t,e,n){"use strict";cc._RF.push(e,"5a208nCos9J3IXRUrwolchH","playerDefaultState"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../playerMachine"),c=t("../bullet"),a=t("../../../frame/StateMachine/StateDec"),i=a.MSMDsc.mState,r=a.MSMDsc.mDefaultState,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.Start=function(){},e.prototype.touchStart=function(t){var e=this.context.node.parent.convertToNodeSpaceAR(t.getLocation());this.context.node.rotation=180*e.sub(this.context.node.position).normalize().signAngle(cc.v2(1,0))/Math.PI},e.prototype.touch=function(t){var e=this.context.node.parent.convertToNodeSpaceAR(t.getLocation());this.context.node.rotation=180*e.sub(this.context.node.position).normalize().signAngle(cc.v2(1,0))/Math.PI},e.prototype.touchEnd=function(t){var e=this.context.node.parent.convertToNodeSpaceAR(t.getLocation()).sub(this.context.node.position).normalize();this.context.node.rotation=180*e.signAngle(cc.v2(1,0))/Math.PI;var n=this.context.PF.pop("bullet");n.getComponent(c.default).dir=e,n.setParent(this.context.node.parent),n.setPosition(this.context.node.position)},e=__decorate([i("Default",o.default),r],e)}(o.PlayerState);n.default=u,cc._RF.pop()},{"../../../frame/StateMachine/StateDec":"StateDec","../bullet":"bullet","../playerMachine":"playerMachine"}],playerMachine:[function(t,e,n){"use strict";cc._RF.push(e,"f058bO7PUxNDZxfjes6MQER","playerMachine"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../frame/PrefabFactory/PrefabFactory"),c=t("../../frame/StateMachine/StateMachine"),a=t("../../frame/InputManage"),i=t("../../frame/StateMachine/StateDec"),r=c.MSM.StateMachine,u=c.MSM.State,s=i.MSMDsc.mStateMachine,p=i.MSMDsc.mSyncFunc,h=a.IPSM.InputManage,l=cc._decorator,f=l.ccclass,d=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e.prototype.start=function(){t.prototype.start.call(this),this.PF=this.getComponent(o.default),h.getInstance(this).addInput(this)},__decorate([p],e.prototype,"touch",null),__decorate([p],e.prototype,"touchStart",null),__decorate([p],e.prototype,"touchEnd",null),__decorate([p],e.prototype,"touchCancel",null),e=__decorate([s,f,cc._decorator.requireComponent(o.default)],e)}(r));n.default=d;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"context",{get:function(){return this.ctx},set:function(t){this.ctx=t},enumerable:!0,configurable:!0}),e.prototype.touch=function(t){},e.prototype.touchStart=function(t){},e.prototype.touchEnd=function(t){},e.prototype.touchCancel=function(t){},e}(u);n.PlayerState=S,cc._RF.pop()},{"../../frame/InputManage":"InputManage","../../frame/PrefabFactory/PrefabFactory":"PrefabFactory","../../frame/StateMachine/StateDec":"StateDec","../../frame/StateMachine/StateMachine":"StateMachine"}],setToFullScene:[function(t,e,n){"use strict";cc._RF.push(e,"067c5ybJ+FJJoojMtrBic3G","setToFullScene"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../frame/EventCenter"),c=cc._decorator,a=c.ccclass,i=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.setSize=function(){this.node.setContentSize(cc.winSize)},e.prototype.start=function(){window.onresize||(window.onresize=function(){o.default.Instance.node.emit("resize")}),o.default.Instance.node.on("resize",this.setSize,this),this.setSize()},e.prototype.onDestroy=function(){o.default.Instance.node.off("resize",this.setSize,this)},e=__decorate([a],e)}(cc.Component));n.default=i,cc._RF.pop()},{"../frame/EventCenter":"EventCenter"}],setToRootNode:[function(t,e,n){"use strict";cc._RF.push(e,"0f23fX4N3BLRqzIs/CszYSe","setToRootNode"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,a=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){cc.game.addPersistRootNode(this.node)},e=__decorate([c],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],setZindex:[function(t,e,n){"use strict";cc._RF.push(e,"96260TqXTNKmJuCplbmvpol","setZindex"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,c=o.ccclass,a=o.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._zidx=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zidx},set:function(t){this._zidx=t,this.setidx()},enumerable:!0,configurable:!0}),e.prototype.setidx=function(){this.node.zIndex=this.zIndex},e.prototype.start=function(){this.setidx()},__decorate([a],e.prototype,"zIndex",null),e=__decorate([c,cc._decorator.executeInEditMode],e)}(cc.Component);n.default=i,cc._RF.pop()},{}]},{},["AnimationStateMachine","EventCenter","InputManage","InputDefaultState","ObjectPool","OperationStateMachine","PrefabFactory","ScenesManage","ScenesDefaultState","StateDec","StateMachine","InputManageTest","MachineCor","Enums","LineType","bscManage","bullet","playerMachine","playerDefaultState","setZindex","SiteMachine","SitePeople","SiteStates","VehicleMachine","VehicleStates","CameraMoveMachine","CameraMoveStates","setToFullScene","setToRootNode"]);