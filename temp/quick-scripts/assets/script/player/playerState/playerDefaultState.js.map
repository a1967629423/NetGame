{"version":3,"sources":["playerDefaultState.ts"],"names":[],"mappings":";;;;;AAAA,kDAA8D;AAC9D,oCAA+B;AAC/B,iEAA8D;AACtD,IAAA,iCAAM,EAAE,+CAAa,CAAS;AAItC;IAAgD,sCAAW;IAA3D;;IAwBA,CAAC;IAvBG,kCAAK,GAAL;IAEA,CAAC;IACD,uCAAU,GAAV,UAAW,CAAU;QAEjB,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAA;QAC7E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,EAAE,CAAA;IACvH,CAAC;IACD,kCAAK,GAAL,UAAM,CAAU;QAEZ,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAA;QAC7E,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,EAAE,CAAA;IACvH,CAAC;IACD,qCAAQ,GAAR,UAAS,CAAU;QAEf,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAA;QAC7E,IAAI,GAAG,GAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,EAAE,CAAA;QAClE,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;IAChD,CAAC;IAvBgB,kBAAkB;QAFtC,aAAa;QACb,MAAM,CAAC,SAAS,EAAC,uBAAa,CAAC;OACX,kBAAkB,CAwBtC;IAAD,yBAAC;CAxBD,AAwBC,CAxB+C,2BAAW,GAwB1D;kBAxBoB,kBAAkB","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\player\\playerState","sourcesContent":["import PlayerMachine, { PlayerState } from \"../playerMachine\";\r\nimport Bullet from \"../bullet\";\r\nimport { MSMDsc } from \"../../../frame/StateMachine/StateDec\";\r\nconst { mState, mDefaultState }=MSMDsc\r\n\r\n@mDefaultState\r\n@mState('Default',PlayerMachine)\r\nexport default class PlayerDefaultState extends PlayerState {\r\n    Start()\r\n    {\r\n    }\r\n    touchStart(t:cc.Touch)\r\n    {\r\n        var nowPoint = this.context.node.parent.convertToNodeSpaceAR(t.getLocation())\r\n        this.context.node.rotation = nowPoint.sub(this.context.node.position).normalize().signAngle(cc.v2(1,0))*180/Math.PI\r\n    }\r\n    touch(t:cc.Touch)\r\n    {\r\n        var nowPoint = this.context.node.parent.convertToNodeSpaceAR(t.getLocation())\r\n        this.context.node.rotation = nowPoint.sub(this.context.node.position).normalize().signAngle(cc.v2(1,0))*180/Math.PI\r\n    }\r\n    touchEnd(t:cc.Touch)\r\n    {\r\n        var nowPoint = this.context.node.parent.convertToNodeSpaceAR(t.getLocation())\r\n        var dir =nowPoint.sub(this.context.node.position).normalize();\r\n        this.context.node.rotation = dir.signAngle(cc.v2(1,0))*180/Math.PI\r\n        var node = this.context.PF.pop('bullet');\r\n        node.getComponent(Bullet).dir = dir;\r\n        node.setParent(this.context.node.parent);\r\n        node.setPosition(this.context.node.position)\r\n    }\r\n}\r\n"]}