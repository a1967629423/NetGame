{"version":3,"sources":["CameraMoveMachine.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\utility\\cameraMove","sourcesContent":["import { MSM } from \"../../frame/StateMachine/StateMachine\";\r\nimport {  MSMDsc } from \"../../frame/StateMachine/StateDec\";\r\nimport { IInput, IPSM, IInput_mouse } from \"../../frame/InputManage\";\r\nimport { InputType } from \"../../script/Enums\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nconst{mStateMachine,mSyncFunc}=MSMDsc;\r\nconst{StateMachine,State}=MSM;\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nexport module CameraMoveMachine\r\n{\r\n    @mStateMachine\r\n    @ccclass\r\n    export  class CameraMoveMachine extends StateMachine implements IInput,IInput_mouse {\r\n        mouseDown(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseUp(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseEnter(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseLeave(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        @mSyncFunc\r\n        mouseWheel(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseMove(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        touchs:{id:number,point:cc.Vec2}[] = []\r\n        nCamera:cc.Camera = null\r\n        @mSyncFunc\r\n        touch(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        @mSyncFunc \r\n        touchStart(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        @mSyncFunc\r\n        touchEnd(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        @mSyncFunc\r\n        touchCancel(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        changeCameraZoom(nextRatio:number)\r\n        {\r\n            nextRatio = Math.max(Math.min(3,nextRatio),0.3)\r\n            this.nCamera.zoomRatio = nextRatio;\r\n            return nextRatio;\r\n        }\r\n        start()\r\n        {\r\n            super.start();\r\n            IPSM.InputManage.getInstance().addInput(this);\r\n            IPSM.InputManage.getInstance().addInput(this,InputType.mouse);\r\n            this.nCamera = this.getComponent(cc.Camera)\r\n        }\r\n        @mSyncFunc\r\n        touchExit(t:cc.Touch)\r\n        {\r\n            this.touchs.splice(this.touchs.findIndex(value=>value.id===t.getID()),1)\r\n        }\r\n    \r\n    \r\n    }\r\n    export class CameraMoveState extends State implements IInput,IInput_mouse\r\n    {\r\n        mouseDown(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseUp(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseEnter(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseLeave(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseWheel(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        mouseMove(mouseEvent: cc.Event.EventMouse) {\r\n\r\n        }\r\n        context:CameraMoveMachine\r\n        touch(touchEvent: cc.Touch) {\r\n    \r\n        }    \r\n        touchStart(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        touchEnd(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        touchCancel(touchEvent: cc.Touch) {\r\n    \r\n        }\r\n        touchExit(t:cc.Touch)\r\n        {\r\n\r\n        }\r\n    \r\n        \r\n    }\r\n    \r\n}\r\n"]}