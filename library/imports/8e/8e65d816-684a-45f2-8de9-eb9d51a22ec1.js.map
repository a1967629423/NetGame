{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\UI/assets\\script\\UI\\vehicleButton.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\UI","sourcesContent":["import { IInput, IPSM } from \"../../frame/InputManage\";\r\nimport { LineRender } from \"../render/LineRender\";\r\nimport ScenesObject from \"../../utility/ScenesObject\";\r\nimport GameObjectManage from \"../manage/GameObjectManange\";\r\nimport { SiteSM } from \"../site/SiteMachine\";\r\nimport { SLDSM } from \"../site/SiteLine\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class VehicleButton extends cc.Component implements IInput {\r\n    touch(touchEvent: cc.Touch) {\r\n    }\r\n    touchStart(touchEvent: cc.Touch) {\r\n\r\n    }\r\n    async touchEnd(touchEvent: cc.Touch) {\r\n        if(this.lineRender.HitTest(touchEvent.getLocation(),null))\r\n        {\r\n            var site = ScenesObject.instance.getComponentInChildren(SiteSM.SiteMachine);\r\n            var lien = site.SiteLines[0];\r\n            var vechicle = await GameObjectManage.Instance.getVehicle(site,0,lien);\r\n            if(vechicle)\r\n            {\r\n                var vehicles = ScenesObject.instance.node.getChildByName('vehicles');\r\n                vehicles.addChild(vechicle.node);\r\n                lien.registerVehicle(vechicle);\r\n            }\r\n        }\r\n    }\r\n    async touchCancel(touchEvent: cc.Touch) {\r\n        if(this.lineRender.HitTest(touchEvent.getLocation(),null))\r\n        {\r\n            var site = ScenesObject.instance.getComponentInChildren(SiteSM.SiteMachine);\r\n            var lien = site.SiteLines[0];\r\n            var vechicle = await GameObjectManage.Instance.getVehicle(site,0,lien);\r\n            if(vechicle)\r\n            {\r\n                var vehicles = ScenesObject.instance.node.getChildByName('vehicles');\r\n                vehicles.addChild(vechicle.node);\r\n                lien.registerVehicle(vechicle);\r\n            }\r\n        }\r\n    }\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n    @property(LineRender.LineRenderStateMachine)\r\n    lineRender:LineRender.LineRenderStateMachine = null;\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.lineRender = ScenesObject.instance.getComponentInChildren(LineRender.LineRenderStateMachine);\r\n        var input = IPSM.InputManage.getInstance(this);\r\n        input.addInput(this);\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}