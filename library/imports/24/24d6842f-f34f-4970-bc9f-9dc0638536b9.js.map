{"version":3,"sources":["..\\..\\..\\..\\assets\\utility/assets\\utility\\ScenesObject.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\utility","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ScenesObject extends cc.Component {\r\n    private static _instance:ScenesObject = null;\r\n    static get instance()\r\n    {\r\n        if(!this._instance)\r\n        {\r\n            var snode  = cc.find('Canvas/ScenesObject')\r\n            if(!snode)\r\n            {\r\n                snode = new cc.Node(\"ScenesObject\");\r\n                cc.Canvas.instance.node.addChild(snode);\r\n                this._instance = snode.addComponent(ScenesObject)\r\n            }\r\n            else\r\n            {\r\n                this._instance = snode.getComponent(ScenesObject);\r\n            }\r\n        }\r\n        return this._instance;\r\n    }\r\n    @property\r\n    loadModle:string = \"1\";\r\n    start()\r\n    {\r\n        cc.loader.loadRes('SOConfig/config',(err,data)=>{\r\n            if(err)\r\n            {\r\n                console.error('SOConfig/config.json not exist')\r\n            }\r\n            else\r\n            {\r\n                var json:[string[]] = data['json'];\r\n                var loadConfig = json[this.loadModle]['children'];\r\n                for(var key in loadConfig)\r\n                {\r\n                    var item = key\r\n                    if(this.node.children.every(v=>v.name!==item))\r\n                    {\r\n                        var path = loadConfig[key]['prefabPath'];\r\n                        if(path)\r\n                        {\r\n                            cc.loader.loadRes(path,cc.Prefab,(err,resource)=>{\r\n                                if(err)\r\n                                {\r\n                                    console.error(err.message);\r\n                                }\r\n                                else\r\n                                {\r\n                                    var node = cc.instantiate(resource);\r\n                                    this.node.addChild(node);\r\n                                }\r\n                            })\r\n                        }\r\n                        else\r\n                        {\r\n                            var node = new cc.Node(key);\r\n                            this.node.addChild(node);\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        })\r\n    }\r\n    onDestroy()\r\n    {\r\n        if(ScenesObject._instance)ScenesObject._instance = null;\r\n    }\r\n}\r\n"]}