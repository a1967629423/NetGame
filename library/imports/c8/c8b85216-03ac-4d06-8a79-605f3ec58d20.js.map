{"version":3,"sources":["..\\..\\..\\..\\assets\\Material/assets\\Material\\ShaderDec.ts"],"names":[],"mappings":";;;;;AAGA,IAAc,SAAS,CAqCtB;AArCD,WAAc,SAAS;IAMnB,IAAI,eAAe,GAAwB,IAAI,CAAC;IAEhD,cAA6C,MAAgB;QAEzD,eAAe,GAAG,MAAM,CAAC;IAC7B,CAAC;IAHe,cAAI,OAGnB,CAAA;IACD,kBAAmD,IAAW;QAE1D,IAAI,KAAK,GAAG,IAAI,CAAC;QACjB,sBAAsB,MAAgB;YAElC,IAAI,EAAE,GAAoB,eAAe,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;YACjE,IAAG,CAAC,EAAE,EACN;gBACI,EAAE,GAAG,EAAE,CAAC;gBACR,eAAe,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;aAC/C;YACD,EAAE,CAAC,IAAI,CAAC,EAAC,YAAY,EAAC,KAAK,EAAC,mBAAmB,EAAC,MAAM,EAAC,CAAC,CAAC;QAC7D,CAAC;QACD,OAAO,UAAS,MAAgB;YAE5B,IAAG,CAAC,eAAe,EACnB;gBACI,UAAU,CAAC,cAAK,YAAY,CAAC,MAAM,CAAC,CAAA,CAAA,CAAC,CAAC,CAAC;aAC1C;iBAED;gBACI,YAAY,CAAC,MAAM,CAAC,CAAC;aACxB;QACL,CAAC,CAAA;IACL,CAAC;IAxBe,kBAAQ,WAwBvB,CAAA;AACL,CAAC,EArCa,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAqCtB","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Material","sourcesContent":["import { ShaderMaterial } from \"./ShaderMaterial\";\r\nimport InitMaterial from \"./Tools/InitMaterial\";\r\n\r\nexport module ShaderDec\r\n{\r\n    export type MaterialsSave = {\r\n        MaterialName:string,\r\n        MaterialConstructor:{new(...args):ShaderMaterial}\r\n    };\r\n    var InitConstructor:{new():InitMaterial} = null;\r\n    \r\n    export function Init<T extends InitMaterial>(target:{new():T})\r\n    {\r\n        InitConstructor = target;\r\n    }\r\n    export function Material<T extends ShaderMaterial>(name:string)\r\n    {\r\n        var _name = name;\r\n        function InitMaterial(target:{new():T})\r\n        {\r\n            var ms:MaterialsSave[] =  InitConstructor.prototype['Materials'];\r\n            if(!ms)\r\n            {\r\n                ms = [];\r\n                InitConstructor.prototype['Materials'] = ms;\r\n            }\r\n            ms.push({MaterialName:_name,MaterialConstructor:target});\r\n        }\r\n        return function(target:{new():T})\r\n        {\r\n            if(!InitConstructor)\r\n            {\r\n                setTimeout(()=>{InitMaterial(target)});\r\n            }\r\n            else\r\n            {\r\n                InitMaterial(target);\r\n            }\r\n        }\r\n    }\r\n}"]}