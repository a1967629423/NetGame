{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\bscLine/assets\\script\\bscLine\\bscManage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\bscLine","sourcesContent":["import LineType, { ELineType } from \"./LineType\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\n@cc._decorator.executeInEditMode\r\n@cc._decorator.requireComponent(cc.Graphics)\r\nexport default class bscManage extends cc.Component {\r\n    @property([LineType])\r\n    points:LineType[] = [];\r\n    @property\r\n    count:number = 50\r\n    \r\n    px:number[] =[]\r\n    py:number[] =[]\r\n    path:cc.Vec2[] =[]\r\n    p:cc.Vec2[]=[];\r\n    start()\r\n    {\r\n        this.print();\r\n    }\r\n    print()\r\n    {\r\n        this.px=[];\r\n        this.py=[];\r\n        this.path=[];\r\n        this.points.forEach(value=>{\r\n            if(value)\r\n            {\r\n                this.px.push(value.node.position.x);\r\n                this.py.push(value.node.position.y);\r\n            }\r\n            else\r\n            {\r\n                this.px.push(0);\r\n                this.py.push(0);\r\n            }\r\n        });\r\n        if(this.points.length>0&&this.points[0])\r\n        {\r\n            var g = this.getComponent(cc.Graphics);\r\n            g.clear();\r\n            g.strokeColor = cc.Color.RED\r\n            g.moveTo(this.points[0].node.x,this.points[0].node.y);\r\n            for(var i=1;i<this.points.length;i++)\r\n            {\r\n                if(this.points[i])\r\n                {\r\n                    if(this.points[i].type===ELineType.line)\r\n                    {\r\n                        this.path.push(new cc.Vec2(this.points[i].node.x,this.points[i].node.y));\r\n    \r\n                    }\r\n                    else\r\n                    {\r\n                        for(var i=1;i<this.count;i++)\r\n                        {\r\n                            \r\n                            //g.lineTo(morebsr(i/this.count,this.px),morebsr(i/this.count,this.py))\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.path.forEach(value=>{g.lineTo(value.x,value.y)})\r\n\r\n            g.stroke()\r\n        }\r\n    }\r\n    update()\r\n    {\r\n        if(this.points.length>0)\r\n        {\r\n            if(this.points.length!=this.px.length)\r\n            {\r\n                this.print();\r\n            }\r\n            else\r\n            {\r\n                for(var i =0;i<this.points.length;i++)\r\n                {\r\n                    if(this.points[i])\r\n                    {\r\n                        if(this.points[i].node.x!=this.px[i])\r\n                        {\r\n                            this.print()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n"]}